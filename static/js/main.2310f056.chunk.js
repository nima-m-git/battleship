(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,r){e.exports=r(16)},15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var a=r(4),n=r(5),l=r(1),i=r(7),c=r(6),o=r(0),s=r.n(o),u=r(9),h=r.n(u),p=(r(15),r(3)),y=r(2),f=function(e){var t=[];!function(){for(var r=0;r<e;r++)t.push({spot:r,hit:!1})}();return{ship:t,length:e,hitSpot:function(e){t[e].hit=!0},hasSunk:function(){return t.every((function(e){return e.hit}))}}},m=(f(1),f(1),f(1),f(1),f(1),f(2),f(2),f(2),f(2),f(3),f(3),f(3),f(4),f(4),f(5),[f(1),f(1)]),d=(function(){for(var e=[],t=0;t<10;t++){for(var r=[],a=0;a<10;a++)r.push({fill:null,hit:!1});e.push(r)}}(),function(e){var t=function(t,r){var a=function(t){return t!==e.currentPlayer.name&&!e.winner}(r);return t.gameboard.map((function(r,n){return s.a.createElement("tr",{key:n},r.map((function(r,n){return s.a.createElement("td",{key:n,hit:"".concat(r.hit),fill:"".concat(r.fill),onClick:a?function(){return e.receiveAttack(r,t)}:null})})))}))};return s.a.createElement("div",{id:"gameBoards"},s.a.createElement("div",null,s.a.createElement("h3",null,"Player1"),s.a.createElement("table",{className:("player2"===e.currentPlayer.name?"active":"inactive")+" player1 board "},s.a.createElement("tbody",null,t(e.player1Board,"player1")))),s.a.createElement("div",null,s.a.createElement("h3",null,"Player2"),s.a.createElement("table",{className:("player1"===e.currentPlayer.name?"active":"inactive")+" player2 board "},s.a.createElement("tbody",null,t(e.player2Board,"player2")))))}),v=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).state={player1Board:n.randomSetup(),player2Board:n.randomSetup()},n.receiveAttack=n.receiveAttack.bind(Object(l.a)(n)),n.randomSetup=n.randomSetup.bind(Object(l.a)(n)),n.resetGame=n.resetGame.bind(Object(l.a)(n)),e.isComputer&&n.computerMove(),n}return Object(n.a)(r,[{key:"receiveAttack",value:function(e,t){e.hit||(e.hit=!0,e.ship&&e.ship.hitSpot(e.spot),this.props.checkWin(t)||this.props.nextPlayerTurn())}},{key:"randomSetup",value:function(){var e=function(){var e=function(){for(var e=[],t=0;t<10;t++){for(var r=[],a=0;a<10;a++)r.push({fill:null,hit:!1});e.push(r)}return e}();var t=function(e){for(var t=Math.floor(2*Math.random())?"col":"row",r=Math.floor(10*Math.random()),a=[],n=Math.floor(Math.random()*(10-e.length)),l=0;l<e.length;l++)a.push(n+l);return{dir:t,axis:r,coords:a}},r=function(t){var r,a=t.dir,n=t.axis,l=t.coords,i=[],c=Object(y.a)(l);try{for(c.s();!(r=c.n()).done;){var o=r.value;"col"===a?i.push(e[o][n].fill):"row"===a&&i.push(e[n][o].fill)}}catch(s){c.e(s)}finally{c.f()}return i.every((function(e){return!e}))},a=function(t){var r=t.ship,a=t.dir,n=t.axis;t.coords.forEach((function(t,l){"col"===a?e[t][n]=Object(p.a)(Object(p.a)({},e[t][n]),{},{fill:!0,spot:l,ship:r}):"row"===a&&(e[n][t]=Object(p.a)(Object(p.a)({},e[t][n]),{},{fill:!0,spot:l,ship:r}))}))};return{gameboard:e,placeCustomShip:function(e){var t=e.ship,n=e.dir,l=e.axis,i=e.coords;r({dir:n,axis:l,coords:i})&&a({ship:t,dir:n,axis:l,coords:i})},checkEmpty:r,randomFillShips:function(){var e,n=Object(y.a)(m);try{for(n.s();!(e=n.n()).done;){for(var l=e.value,i=t(l);!r(Object(p.a)({},i));)i=t(l);a(Object(p.a)(Object(p.a)({},i),{},{ship:l}))}}catch(c){n.e(c)}finally{n.f()}},receiveAttack:function(e){e.hit=!0,e.ship&&e.ship.hitSpot(e.spot)},areAllSunk:function(){var t,r=Object(y.a)(e);try{for(r.s();!(t=r.n()).done;){var a,n=t.value,l=Object(y.a)(n);try{for(l.s();!(a=l.n()).done;){var i=a.value;if(!0===i.fill&&!1===i.hit)return!1}}catch(c){l.e(c)}finally{l.f()}}}catch(c){r.e(c)}finally{r.f()}return!0}}}();return e.randomFillShips(),e}},{key:"computerMove",value:function(){var e="player1"===this.props.currentPlayer.name?this.state.player2Board:this.state.player1Board,t=function(e){var t=function(){var t,r=[],a=Object(y.a)(e.gameboard);try{for(a.s();!(t=a.n()).done;){var n,l=t.value,i=Object(y.a)(l);try{for(i.s();!(n=i.n()).done;){var c=n.value;r.push(c)}}catch(o){i.e(o)}finally{i.f()}}}catch(o){a.e(o)}finally{a.f()}return r.filter((function(e){return!e.hit}))};return t()[Math.floor(Math.random()*t().length)]}(e);console.log(t),this.receiveAttack(t,e)}},{key:"resetGame",value:function(){this.props.resetGame(),this.setState({player1Board:this.randomSetup(),player2Board:this.randomSetup()})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(d,{currentPlayer:this.props.currentPlayer,player1Board:this.state.player1Board,player2Board:this.state.player2Board,receiveAttack:this.receiveAttack,winner:this.props.winner}),s.a.createElement("div",{id:"reset"},this.props.winner&&s.a.createElement("button",{onClick:this.resetGame},"Reset Game")))}}]),r}(s.a.Component),b=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).players={player1:{name:"player1",type:"human",score:0,gameboard:null},player2:{name:"player2",type:"computer",score:0}},n.state={currentPlayer:n.players.player1,winner:null},n.nextPlayerTurn=n.nextPlayerTurn.bind(Object(l.a)(n)),n.checkWin=n.checkWin.bind(Object(l.a)(n)),n.resetGame=n.resetGame.bind(Object(l.a)(n)),n}return Object(n.a)(r,[{key:"nextPlayerTurn",value:function(){this.setState({currentPlayer:this.state.currentPlayer===this.players.player1?this.players.player2:this.players.player1})}},{key:"checkWin",value:function(e){var t=e.areAllSunk();return t&&this.applyWin(),t}},{key:"applyWin",value:function(){var e=this.state.currentPlayer;this.setState({winner:e}),e.score++}},{key:"resetGame",value:function(){this.setState({winner:null}),this.nextPlayerTurn()}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.winner&&s.a.createElement("h2",null,"Winner: ",this.state.winner.name,"!"),s.a.createElement("div",{className:"scoreBoard"},s.a.createElement("h2",null,"Scores:"),s.a.createElement("h3",null,"Player1: ",this.players.player1.score,"  Player2: ",this.players.player2.score)),s.a.createElement("h2",null,"Turn: ",this.state.currentPlayer.name),s.a.createElement(v,{currentPlayer:this.state.currentPlayer,isComputer:"computer"===this.state.currentPlayer.type,nextPlayerTurn:this.nextPlayerTurn,checkWin:this.checkWin,winner:this.state.winner,resetGame:this.resetGame}))}}]),r}(s.a.Component);h.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement("h1",null,"Battleship"),s.a.createElement(b,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.2310f056.chunk.js.map